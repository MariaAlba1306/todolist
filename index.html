<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <link rel="stylesheet" href="./css/styles.css" />
    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>

    <title>FE Bootcamp Project 3</title>
  </head>
  <body>
    <div class="list">
      <h1>My tasks</h1>
      <div id="task-1" class="tasks"></div>
    </div>
    <div class="form">
      <input type="text" id="pendingTask" class="pendingTask" />
      <input type="button" id="add" value="AÃ±adir" class="button" />
    </div>
  </body>
  <script>
    $(document).ready(function () {
      //Adding task to board when pressing ADD
      $("#add").click(function () {
        var textbox = $("#pendingTask").val();
        //Adding task to board only if there's something inside the textbox
        if (textbox.length > 0) {
          var number = $(".tasks").length;
          var new_number = number + 1;
          var cloned_div = $("#task-" + number);
          var $cloned = $(cloned_div)
            .clone()
            .attr("id", "task-" + new_number)
            .insertAfter("#task-" + number);
          $("#task-" + number)
            .append("HI")
            .css("display", "block")
            .html($("#pendingTask").val());
          $("#pendingTask").val("");
        }
      });
      //Adding task to board when pressing intro
      $("#pendingTask").on("keyup", function (e) {
        var keycode = e.keyCode || e.which;
        if (keycode == 13) {
          var textbox = $("#pendingTask").val();
          if (textbox.length > 0) {
            var number = $(".tasks").length;
            var new_number = number + 1;
            var cloned_div = $("#task-" + number);
            var $cloned = $(cloned_div)
              .clone()
              .attr("id", "task-" + new_number)
              .insertAfter("#task-" + number);
            $("#task-" + number)
              .append("HI")
              .css("display", "block")
              .html($("#pendingTask").val());
            $("#pendingTask").val("");
          }
        }
      });
      // Striking tasks if clicking inside
      $(".list").on("click", "div", function () {
        $(this).toggleClass("strike");
      });

      console.log("document ready");
    });
  </script>
</html>
